<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aurum Bookshop Clone</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/common.css">
</head>
<body>

<!-- Header -->
<header>
  <div class="container">
    <img src="img/logobookstore.png" alt="Bookstore Logo" class="logo">
    <nav class="nav-bar">
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Books</a></li>
        <li><a href="#">Library</a></li>
        <li><a href="#">Journal</a></li>
        <li><a href="#">Buy Now</a></li>
      </ul>
    </nav>
    <div class="icons">
      <img src="img/search.png" alt="search" class="search">
      <img src="img/bag.png" alt="bag" class="cart">
    </div>
  </div>
</header>

<!-- Hero Section -->
<section class="hero">
  <div class="hero-heading">
    <h1>"The world is quiet here"</h1>
    <h2>- Lemony Snicket</h2>
  </div>
</section>

<!-- Bestseller Carousel -->
<div class="container">
  <h1>Bestsellers</h1>
  <h3>Top selling books of 2025</h3>

  <div class="carousel-container" id="top-carousel-container">
    <button class="carousel-btn left">&#10094;</button>
    <div class="carousel-wrapper">
      <div class="carousel" id="top-carousel">
        <!-- Product cards will be dynamically injected -->
      </div>
    </div>
    <button class="carousel-btn right">&#10095;</button>
  </div>
</div>

<!-- Author Section -->
<section class="author">
  <h2>Author of the Month</h2>
  <h3>And his/her Bestsellers</h3>

  <div class="author-profile">
    <div class="author-image-wrapper">
      <img src="img/jules.avif" alt="Author" />
    </div>

    <div class="author-info">
      <div class="author-text">
        <p class="p1">Jules Winnefield</p>
        <p class="p2">Ezekiel 25:17</p>
        <p>--</p>
        <p class="p3">"The path of the righteous man is beset on all sides by the inequities of the selfish and the tyranny of evil men. Blessed is he who, in the name of charity and good will, shepherds the weak through the valley of darkness, for he is truly his brother’s keeper and the finder of lost children. And I will strike down upon thee with great vengeance and furious anger those who attempt to poison and destroy my brothers. And you will know I am the Lord when I lay my vengeance upon you"</p>
      </div>

      <!-- Bottom Grid: 4 books -->
      <div class="featured-books" id="author-books">
        <!-- Books will be injected dynamically -->
      </div>
    </div>
  </div>
</section>
<section class="features">
  <div class="features-container">

    <!-- Free Shipping Box -->
    <div class="feature-box full-width shipping-box">
      <div class="feature-box-inner">
        <h3>FREE SHIPPING</h3>
        <p>FREE SHIPPING OVER $59 FOR INTERNATIONAL ORDERS</p>
        <div class="cta-box">Get a book!</div>
      </div>
    </div>

    <!-- Three Columns -->
    <div class="feature-columns bottom-features">

  <div class="feature-box" style="background-image: url('img/2.jpg');">
    <div class="feature-box-inner">
      <h3>Library</h3>
      <p>READING SPACE</p>
    </div>
  </div>

  <div class="feature-box" style="background-image: url('img/3.jpg');">
    <div class="feature-box-inner">
      <h3>Furnishing</h3>
      <p>HOME FURNISHMENT</p>
    </div>
  </div>

  <div class="feature-box" style="background-image: url('img/ebook.jpg');">
    <div class="feature-box-inner">
      <h3>E-Books</h3>
      <p>YOUR READING TOOL</p>
    </div>
  </div>

</div>
</section>
<!-- Bottom Menu Above Footer -->
<div class="bottom-menu">
  <div class="bottom-menu-inner container">
    
    <!-- Genre -->
    <div class="menu-section">
      <h3>Genre</h3>
      <ul>
        <li><a href="/genre/literature">Literature</a></li>
        <li><a href="/genre/history">History</a></li>
        <li><a href="/genre/romance">Romance</a></li>
        <li><a href="/genre/business">Business</a></li>
        <li><a href="/genre/scifi">Science Fiction</a></li>
      </ul>
    </div>

    <!-- Site Map -->
    <div class="menu-section">
      <h3>Site Map</h3>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/books">Books</a></li>
        <li><a href="/library">Library</a></li>
        <li><a href="/journal">Journal</a></li>
        <li><a href="/buy">Buy Now</a></li>
      </ul>
    </div>

    <!-- Useful Links -->
    <div class="menu-section">
      <h3>Useful Links</h3>
      <ul>
        <li><a href="https://harvard.edu">Harvard</a></li>
        <li><a href="https://leeds.ac.uk/library">Leeds Library</a></li>
        <li><a href="https://york.ac.uk">York Uni</a></li>
        <li><a href="https://bibliotheque.fr">Bibliothèque</a></li>
        <li><a href="https://nypl.org">NY Public Library</a></li>
      </ul>
    </div>

    <!-- eBooks -->
    <div class="menu-section">
      <h3>eBooks</h3>
      <ul>
        <li><a href="/ebooks/bestsellers">Bestsellers</a></li>
        <li><a href="/ebooks/free">Free eBooks</a></li>
        <li><a href="/ebooks/new">New Releases</a></li>
        <li><a href="/ebooks/collections">Collections</a></li>
      </ul>
    </div>

    <!-- Social -->
    <div class="menu-section">
      <h3>Social</h3>
      <ul class="social-links">
        <li><a href="#"><i class="icon-facebook"></i> Facebook</a></li>
        <li><a href="#"><i class="icon-twitter"></i> Twitter</a></li>
        <li><a href="#"><i class="icon-pinterest"></i> Pinterest</a></li>
        <li><a href="#"><i class="icon-linkedin"></i> LinkedIn</a></li>
        <li><a href="#"><i class="icon-instagram"></i> Instagram</a></li>
      </ul>
    </div>

    <!-- Journal -->
    <div class="menu-section">
      <h3>Journal</h3>
      <ul>
        <li><a href="/journal/news">News</a></li>
        <li><a href="/journal/reviews">Reviews</a></li>
        <li><a href="/journal/interviews">Interviews</a></li>
        <li><a href="/journal/editorials">Editorials</a></li>
      </ul>
    </div>

  </div>
</div>



<!-- Footer -->
<footer>
  <p>&copy; 2025 Aurum Bookshop Clone</p>
</footer>

<script>
const KAKAO_API_KEY = "5d87e57108b82e8fe70cd0dc8af67f9a"; // replace with your key
const VISIBLE_TOP = 5; // top carousel visible cards

window.addEventListener("DOMContentLoaded", () => {
  // --- Top carousel setup ---
  const carouselWrapper = document.querySelector("#top-carousel-container .carousel-wrapper");
  const carousel = document.getElementById("top-carousel");
  const leftBtn = document.querySelector("#top-carousel-container .carousel-btn.left");
  const rightBtn = document.querySelector("#top-carousel-container .carousel-btn.right");

  function setTopCarouselWidths() {
    const gap = 20; // same as CSS gap
    const totalGap = gap * (VISIBLE_TOP - 1);
    const cardWidth = Math.floor((carouselWrapper.clientWidth - totalGap) / VISIBLE_TOP);
    carousel.querySelectorAll(".product-card").forEach(card => {
      card.style.flex = `0 0 ${cardWidth}px`;
      card.style.width = `${cardWidth}px`;
    });
  }

  function loadTopCarousel(query = "소설", size = 12) {
    fetch(`https://dapi.kakao.com/v3/search/book?target=title&query=${encodeURIComponent(query)}&size=${size}`, {
      headers: { "Authorization": `KakaoAK ${KAKAO_API_KEY}` }
    })
    .then(res => res.ok ? res.json() : Promise.reject(res.statusText))
    .then(data => {
      carousel.innerHTML = "";
      data.documents.forEach(book => {
        const card = document.createElement("div");
        card.className = "product-card";
        const thumbnail = book.thumbnail || "img/default-book.png";
        const authors = book.authors.length ? book.authors.join(", ") : "Unknown author";
        const price = book.price ? `${book.price}원` : "가격 정보 없음";

        card.innerHTML = `
          <img src="${thumbnail}" alt="${book.title}">
          <h3>${book.title}</h3>
          <p class="category">${authors}</p>
          <p class="price">${price}</p>
        `;
        carousel.appendChild(card);
      });
      setTopCarouselWidths();
    })
    .catch(err => { console.error(err); carousel.innerHTML = "<p>책 정보를 불러올 수 없습니다.</p>"; });
  }

  leftBtn.addEventListener("click", () => {
    carouselWrapper.scrollBy({ left: -carouselWrapper.clientWidth, behavior: "smooth" });
  });
  rightBtn.addEventListener("click", () => {
    carouselWrapper.scrollBy({ left: carouselWrapper.clientWidth, behavior: "smooth" });
  });

  window.addEventListener("resize", () => setTopCarouselWidths());

  loadTopCarousel();

  // --- Bottom author books grid ---
  function loadAuthorBooks(query = "철학", size = 4) {
    const container = document.getElementById("author-books");
    container.innerHTML = "";

    fetch(`https://dapi.kakao.com/v3/search/book?target=title&query=${encodeURIComponent(query)}&size=${size}`, {
      headers: { "Authorization": `KakaoAK ${KAKAO_API_KEY}` }
    })
    .then(res => res.ok ? res.json() : Promise.reject("Failed"))
    .then(data => {
      data.documents.forEach(book => {
        const div = document.createElement("div");
        div.className = "book-thumb";
        div.innerHTML = `
          <img src="${book.thumbnail || 'img/default-book.png'}" alt="${book.title}" 
               style="width:100%; height:200px; object-fit:cover; border-radius:4px; margin-bottom:10px;">
          <p style="font-size:14px; font-weight:bold;">${book.title}</p>
        `;
        container.appendChild(div);
      });
    })
    .catch(err => {
      console.error(err);
      container.innerHTML = "<p>책 정보를 불러올 수 없습니다.</p>";
    });
  }

  loadAuthorBooks();
});
</script>
</body>
</html>
